<style type="text/css">
    /*body {*/
    /*margin-top: 20px;*/
    /*}*/

    /*.modal-content{*/
    /*width: 450px;*/
    /*}*/
    .login-container {
        position: relative;
        /*margin: 10% auto;*/
        /*max-width: 340px;*/
    }

    .login-container .loginbox {
        position: relative;
        /*width: 340px !important;*/
        height: auto !important;
        /*padding: 0 0 20px 0;*/
        -webkit-box-shadow: 0 0 14px rgba(0, 0, 0, .1);
        -moz-box-shadow: 0 0 14px rgba(0, 0, 0, .1);
        box-shadow: 0 0 14px rgba(0, 0, 0, .1);
    }

    .bg-white {
        background-color: #fff !important;
    }

    .login-container .loginbox .loginbox-title {
        position: relative;
        text-align: center;
        width: 100%;
        height: 35px;
        padding-top: 10px;
        font-family: 'Lucida Sans', 'trebuchet MS', Arial, Helvetica;
        font-size: 20px;
        font-weight: normal;
        color: #444;
    }

    .login-container .loginbox .loginbox-social {
        /*padding: 0 10px 10px;*/
        text-align: center;
    }

    .login-container .loginbox .loginbox-social .social-title {
        font-size: 14px;
        font-weight: 500;
        color: #a9a9a9;
        margin-top: 10px;
    }

    .login-container .loginbox .loginbox-social .social-buttons {
        height: 80px;
        padding: 15px 35px;
        text-align: center;
    }

    .login-container .loginbox .loginbox-social .social-buttons .button-facebook {
        float: left;
        border: 2px solid #3b5998;
        color: #3b5998;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        margin-right: 30px;
        background-color: #fff;
    }

    .login-container .loginbox .loginbox-social .social-buttons .button-twitter {
        float: left;
        border: 2px solid #29c1f6;
        color: #29c1f6;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        margin-right: 30px;
        background-color: #fff;
    }

    .login-container .loginbox .loginbox-social .social-buttons .button-google {
        float: left;
        border: 2px solid #ef4f1d;
        color: #ef4f1d;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        margin-right: 30px;
        background-color: #fff;
    }

    .login-container .loginbox .loginbox-social .social-buttons .button-facebook i {
        font-size: 26px;
        line-height: 50px;
    }

    .login-container .loginbox .loginbox-social .social-buttons .button-twitter i {
        font-size: 26px;
        line-height: 50px;
    }

    .login-container .loginbox .loginbox-social .social-buttons .button-google i {
        font-size: 26px;
        line-height: 50px;
    }

    .login-container .loginbox .loginbox-or {
        position: relative;
        text-align: center;
        height: 20px;
    }

    .login-container .loginbox .loginbox-or .or-line {
        position: absolute;
        height: 1px;
        top: 10px;
        left: 40px;
        right: 40px;
        background-color: #ccc;
    }

    .login-container .loginbox .loginbox-or .or {
        position: absolute;
        top: 0;
        -lh-property: 0;
        left: -webkit-calc(50% - 25px);
        left: -moz-calc(50% - 25px);
        left: calc(50% - 25px);
        width: 50px;
        height: 20px;
        background-color: #fff;
        color: #999;
        margin: 0 auto;
    }

    .login-container .loginbox .loginbox-textbox {
        padding: 10px 40px;
    }

    .login-container .loginbox .loginbox-textbox .form-control {
        -webkit-border-radius: 3px !important;
        -webkit-background-clip: padding-box !important;
        -moz-border-radius: 3px !important;
        -moz-background-clip: padding !important;
        border-radius: 3px !important;
        background-clip: padding-box !important;
    }

    .login-container .loginbox .loginbox-forgot {
        padding-left: 40px;
    }

    .login-container .loginbox .loginbox-forgot a {
        font-size: 11px;
        color: #666;
    }

    .login-container .loginbox .loginbox-submit {
        padding: 10px 40px;
    }

    .login-container .loginbox .loginbox-signup {
        text-align: center;
        padding-top: 10px;
    }

    .login-container .loginbox .loginbox-signup a {
        font-size: 13px;
        color: #666;
    }

    .login-container .logobox {
        width: 340px !important;
        height: 50px !important;
        padding: 5px;
        margin-top: 15px;
        -webkit-box-shadow: 0 0 14px rgba(0, 0, 0, .1);
        -moz-box-shadow: 0 0 14px rgba(0, 0, 0, .1);
        box-shadow: 0 0 14px rgba(0, 0, 0, .1);
        background-color: #fff;
        text-align: left;
    }

</style>
<div class="row">
    <div class="col-xs-12">
        <div class="col-xs-4" style="padding-top:120px">
            <form id="loginForm">
                <div  id="loginFormDiv"
                     class="login-container animated fadeInDown bootstrap snippets">
                    <div class="loginbox bg-white">
                        <div class="loginbox-title">登录</div>
                        <div class="loginbox-social">
                            <div class="social-title ">第三方登录</div>
                            <div class="social-buttons">
                                <a href="" class="button-facebook">
                                    <i class="social-icon fa fa-facebook"></i>
                                </a>
                                <a href="" class="button-twitter">
                                    <i class="social-icon fa fa-twitter"></i>
                                </a>
                                <a href="" class="button-google">
                                    <i class="social-icon fa fa-google-plus"></i>
                                </a>
                            </div>
                        </div>
                        <div class="loginbox-or">
                            <div class="or-line"></div>
                            <div class="or">OR</div>
                        </div>
                        <div class="loginbox-textbox">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="ace-icon glyphicon glyphicon-user"></i></span>
                                <input type="text" name="account" class="form-control" placeholder="用户名/邮箱">
                            </div>
                        </div>
                        <div class="loginbox-textbox">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="ace-icon fa fa-key"></i></span>
                                <input type="password" name="password" class="form-control" placeholder="密码">
                            </div>
                        </div>
                        <div class="loginbox-textbox">
                            <div class="input-group">
                                <span class="input-group-addon no-padding"><img id="loginCaptcha" class="fn-pointer captcha-img" src="/login/captcha" onclick="freshCaptcha('#loginCaptcha')"/></span>
                                <input type="text" id="loginCaptcha" name="captcha" class="form-control" placeholder="验证码">
                            </div>
                        </div>
                        <div class="loginbox-textbox" style="padding-top: 0px">
                            <p class="text-danger red"><em id="loginError"><em></p>
                        </div>
                        <div class="loginbox-forgot">
                        ##                            <input type="checkbox" class="">记住密码
                        ##                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <a href="javascript:;" class=""
                               onclick="loginForgotTab('forgotPassFormDiv','loginFormDiv','#fpwdCaptcha')">忘记密码?</a>
                        </div>
                        <div class="loginbox-submit">
                            <input type="button" onclick="login()" class="btn btn-primary btn-block" value="登录">
                        </div>
                        <div class="loginbox-signup">
                            <a href="/login/register/index" target="_self">注册</a>
                        </div>
                    </div>
                ##    <div class="logobox">
                ##    </div>
                </div>
            </form>
            <form id="forgotPassForm">
                <div id="forgotPassFormDiv" style="display: none" class="login-container animated fadeInDown bootstrap snippets">
                    <div class="loginbox bg-white">
                        <div class="loginbox-textbox">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="ace-icon glyphicon glyphicon-envelope"></i></span>
                                <input type="text" id="forgetEmail" name="email" class="form-control" placeholder="邮箱">
                            </div>
                        </div>
                        <div class="loginbox-textbox">
                            <div class="input-group">
                                <span class="input-group-addon no-padding"><img id="fpwdCaptcha" class="fn-pointer captcha-img" src="" onclick="freshCaptcha('#fpwdCaptcha')" /></span>
                                <input type="text" id="forgetCaptcha" name="captcha" class="form-control" placeholder="验证码">
                            </div>
                        </div>
                        <div class="loginbox-textbox" style="padding-top: 0px">
                            <em><p id="forgetError" class="text-danger red"></p><em>
                        </div>
                        <div class="loginbox-submit">
                            <input type="button" onclick="forgetSend()" class="btn btn-primary btn-block" value="找回密码">
                        </div>
                        <div class="loginbox-signup">
                            <a href="javascript:;" onclick="loginForgotTab('loginFormDiv','forgotPassFormDiv','#loginCaptcha')">登录</a>
                        </div>
                    </div>
                ##    <div class="logobox">
                ##    </div>
                </div>
            </form>
        </div>
        <div class="col-sm-6" style="padding:100px 60px">
            <h1>h1. Heading 1</h1>
            <hr/>

            <h4>Headings & Paragraphs</h4>

            <p class="lead">
                Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor. Duis mollis, est non commodo
                luctus.
            </p>

            <h2>h2. Heading 2</h2>

            <p>
                Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec ullamcorper
                nulla non metus auctor fringilla. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget
                lacinia odio sem nec elit. Donec ullamcorper nulla non metus auctor fringilla.
            </p>
        </div><!-- /.col -->
    </div>
</div>


<script>

    var redirectUrl = "$!{redirectUrl}";
    $(function () {
        redirectUrl = ("" == $.trim(redirectUrl) ? "/" : redirectUrl);
        ace.settingFunction.main_container_fixed(null, true);
    })

    function login() {
        $("#loginError").html("");
        var loginData = $("#loginForm").serializeJSON();
        if ("" == $.trim(loginData.account)) {
            $("#loginError").html("请输入邮箱或者账号！");
            return false;
        }
        if ("" == $.trim(loginData.password)) {
            $("#loginError").html("请输入密码！");
            return false;
        }
        if ("" == $.trim(loginData.captcha)) {
            $("#loginError").html("验证码不能为空！");
            return false;
        }
        $.ajax({
            url: "/login/login",
            type: 'POST',
            data: loginData,
            dataType: "json",
            success: function (result) {
                //信息
                var message = "";
                if (result) {
                    message = result.message;
                    if (result.success) {
                        window.location.href = redirectUrl;
                        return false;
                    }
                }
                freshCaptcha("#loginCaptcha");
                message = ("" == $.trim(message) ? "登录失败，系统错误！" : message );
                $("#loginError").html(message);
                $("#loginCaptcha").val("");
            },
            error: function (request, ajaxOptions, thrownError) {
                alert("系统或网络异常！");
            }
        });
    }

    function loginForgotTab(showId, hideId,selectorCaptcha) {
        $("#" + showId).show();
        $("#" + hideId).hide();
        freshCaptcha(selectorCaptcha)
    }


    function forgetSend(){
        $("#forgetError").attr("class","text-danger red");
        $("#forgetError").html("");
        var forgetEmail = $.trim($("#forgetEmail").val());
        if (!UTIL.isEmail(forgetEmail)) {
            $("#forgetError").html("请输入正确的邮箱");
            return;
        }

        var forgetCaptcha = $.trim($("#forgetCaptcha").val());
        if ("" == forgetCaptcha) {
            $("#forgetError").html("请输入验证码");
            return;
        }
        $.ajax({
            url: "/login/forget/sendEmail",
            type: 'POST',
            data: "email=" + forgetEmail+ "&captcha=" + forgetCaptcha,
            dataType: "json",
            success: function (result) {
                //信息
                var message = "";
                if (result) {
                    message = $.trim(result.message);
                    if (result.success) {
                        message = ("" == message ? "邮件已发请注意查收" : message);
                        $("#forgetError").attr("class","text-danger red");
                        $("#forgetError").html(message);
                        return false;
                    }
                }
                freshCaptcha("#fpwdCaptcha");
                message = ("" == $.trim(message) ? "密码找回功能失败，系统错误！" : message );
                $("#forgetError").html(message);
                $("#forgetCaptcha").val("");
            },
            error: function (request, ajaxOptions, thrownError) {
                alert("系统或网络异常！");
            }
        });
    }
</script>











